{"version":3,"sources":["webpack:///./src/components/m-table/index.vue?31b2","webpack:///./src/views/template/table/index.vue","webpack:///./src/components/m-table/index.vue","webpack:///./src/components/m-table/index.vue?85fe","webpack:///./src/views/template/table/table.js","webpack:///./src/views/template/table/setting.js","webpack:///./src/views/template/table/index.vue?ac60","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","pageTitle","tableData","data","length","table-data","table-head","tableHead","getList","stripe","height","style","max-height","empty-text","size","item","align","key","id","default","component","scope","row","prop","total","page","query","limit","pageChange","props","type","Object","Array","window","innerHeight","watch","val","this","console","log","mounted","onresize","document","body","methods","$emit","render","__scopeId","tableInit","label","width","col","h","name","setting","btn","resolveComponent","btns","onClick","view","color","del","ElMessageBox","confirmButtonText","cancelButtonText","then","ElMessage","message","components","MTable","listQuery","setup","table","$store","commit","loading","http","list","res","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-657dad0c.6772e16c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=434959d6&scoped=true&lang=less\"","<template>\n  <div class=\"template\">\n    <h3>{{ pageTitle }}</h3>\n    <m-table\n      v-if=\"tableData.data.length > 0\"\n      :table-data=\"tableData\"\n      :table-head=\"tableHead\"\n      @pageChange=\"getList\"\n    />\n  </div>\n</template>\n<script>\nimport { httpRequest } from \"@/api/http\";\nimport MTable from \"@/components/m-table/index.vue\";\nimport tableHeadInfo from \"./table\";\nimport API from \"@/api/api-config.js\";\n// import { h, resolveComponent } from \"vue\";\nimport { initSetting } from \"@/utils/index.js\";\n// import { ElMessage, ElMessageBox } from \"element-plus\";\nimport setting from './setting'\nexport default {\n  components: {\n    MTable,\n  },\n  data() {\n    return {\n      tableData: { data: [] },\n      setting: setting,\n      tableHead: [],\n      listQuery: {\n        page: 1,\n        size: 10,\n      },\n    };\n  },\n  setup() {\n    let pageTitle = \"列表\";\n    return {\n      pageTitle,\n    };\n  },\n  mounted() {\n    this.tableHead = initSetting(tableHeadInfo, this.setting);\n    this.getList();\n  },\n  methods: {\n    getList() {\n      this.$store.commit(\"save\", { loading: true });\n      httpRequest(\"GET\", API.list).then((res) => {\n        this.$store.commit(\"save\", { loading: false });\n        this.tableData = res;\n      });\n    },\n  },\n};\n</script>\n<style scoped lang=\"less\">\n\n</style>\n","<template>\n  <div class=\"m-table\">\n    <el-card class=\"box-card\">\n      <el-table\n        :data=\"tableData.data\"\n        stripe\n        :height=\"height\"\n        style=\"width: 100%\"\n        :max-height=\"height\"\n        empty-text=\"暂无数据\"\n        size=\"mini\"\n      >\n        <el-table-column\n          align=\"center\"\n          v-for=\"item in tableHead\"\n          :key=\"item.id\"\n          v-bind=\"item\"\n        >\n          <template #default=\"scope\">\n            <span v-if=\"!item.component\">{{ scope.row[item.prop] }}</span>\n            <component\n              v-if=\"item.component\"\n              :is=\"item.component(scope.row)\"\n            />\n          </template>\n        </el-table-column>\n      </el-table>\n      <Pagination\n        v-if=\"tableData.total > 0\"\n        :total=\"tableData.total\"\n        :page=\"query.page\"\n        :limit=\"query.size\"\n        @pagination=\"pageChange\"\n      />\n    </el-card>\n  </div>\n</template>\n<script>\nexport default {\n  props:{\n    tableData:{\n      type:Object,\n      default: ()=>{\n        return {\n        }\n      }\n    },\n    query:{\n      type:Object,\n      default: ()=>{\n        return {\n          page: 1,\n          size: 10,\n        }\n      }\n    },\n    tableHead:{\n      type:Array,\n      default: ()=>[]\n    },\n  },\n  \n  \n  data(){\n    return {\n      height: window.innerHeight - 300\n    }\n  },\n  watch:{\n    height(val){\n      this.height = val\n      console.log(this.height)\n    }\n  },\n  mounted(){\n    window.onresize = () => {\n        return (() => {\n            window.innerHeight = document.body.innerHeight\n            this.height = window.innerHeight - 300\n        })()\n    }\n  },\n  methods:{\n    pageChange(data){\n      this.$emit('pageChange',data)\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.m-table  {\n  .demo-table-expand {\n    font-size: 0;\n  }\n  .demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n  }\n  .demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n  }\n}\n</style>","import { render } from \"./index.vue?vue&type=template&id=434959d6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=434959d6&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-434959d6\"\n\nexport default script","import { h } from \"vue\";\nconst tableInit = [\n  {\n    prop: \"id\",\n    label: \"ID\",\n    width: 80,\n  },\n  {\n    label: \"标题\",\n    prop: \"title\"\n  },\n  {\n    label: \"姓名\",\n    component: (col) => {\n      return {\n        render: () => {\n          return h(\"div\", {},  {default: () =>col.name})\n        }\n      }\n    }\n  },\n]\nexport default tableInit","import { h, resolveComponent } from \"vue\";\nimport { ElMessage, ElMessageBox } from \"element-plus\";\nconst setting = {\n  label: \"操作\",\n  width: 120,\n  component: (col) => {\n    return {\n      render: () => {\n        const btn = resolveComponent(\"el-button\")\n        const btns = [\n          h(\n            btn,\n            {\n              type: \"text\",\n              size: \"mini\",\n              onClick: () => {\n                view(col)\n              }\n            },\n            { default: () => \"查看\" }\n          ),\n          h(\n            btn,\n            {\n              type: \"text\",\n              size: \"mini\",\n              style: {\n                \"margin-left\": \"10px\",\n                color: \"#F56C6C\"\n              },\n              onClick: () => {\n                del()\n              }\n            },\n            { default: () => \"删除\" }\n          )\n        ]\n        return h(\"div\", {}, { default: () => btns })\n      }\n    }\n  }\n}\n\nfunction del(){\n  ElMessageBox(\"确定删除?\", \"提示\", {\n    confirmButtonText: \"确定\",\n    cancelButtonText: \"取消\",\n    type: \"warning\"\n  }).then(() => {\n    ElMessage({\n      type: \"success\",\n      message: \"删除成功!\"\n    });\n  })\n}\n\nfunction view(){\n  ElMessage({\n    type: \"success\",\n    message: \"view\"\n  });\n}\n\nexport default setting\n","import { render } from \"./index.vue?vue&type=template&id=3d09baad&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-3d09baad\"\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}