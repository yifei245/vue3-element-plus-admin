(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a0f4d1e"],{"3e2a":function(e,t,l){},"9a8d":function(e,t,l){"use strict";l("3e2a")},"9bb2":function(e,t,l){"use strict";l.r(t);var r=l("7a23"),i={class:"form"},n=Object(r["m"])(" 提交 "),o=Object(r["m"])(" 重置 ");function a(e,t,l,a,u,c){var s=Object(r["N"])("M-Form"),d=Object(r["N"])("el-form-item"),b=Object(r["N"])("el-button"),p=Object(r["N"])("el-form");return Object(r["E"])(),Object(r["j"])("div",i,[u.formInit.length>0?(Object(r["E"])(),Object(r["j"])(p,{key:0,model:u.ruleForm,"status-icon":"",ref:"ruleForm","label-width":"100px",class:"demo-ruleForm",style:{width:"50%"},rules:u.rules},{default:Object(r["bb"])((function(){return[(Object(r["E"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(u.formInit,(function(e){return Object(r["E"])(),Object(r["j"])(d,Object(r["u"])({key:e},e,{rules:e.rules}),{default:Object(r["bb"])((function(){return[Object(r["n"])(s,{onHandleChange:c.handleChange,"item-props":e.view,rest:u.restFlag},null,8,["onHandleChange","item-props","rest"])]})),_:2},1040,["rules"])})),128)),Object(r["n"])(d,null,{default:Object(r["bb"])((function(){return[Object(r["n"])(b,{type:"primary",size:"mini",onClick:t[1]||(t[1]=function(e){return c.submitForm("ruleForm")})},{default:Object(r["bb"])((function(){return[n]})),_:1}),Object(r["n"])(b,{onClick:t[2]||(t[2]=function(e){return c.resetForm("ruleForm")}),size:"mini"},{default:Object(r["bb"])((function(){return[o]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])):Object(r["k"])("",!0)])}l("4160"),l("159b");var u={class:"m-form"};function c(e,t,l,i,n,o){var a=Object(r["N"])("el-radio"),c=Object(r["N"])("el-radio-group"),s=Object(r["N"])("el-input"),d=Object(r["N"])("el-input-number"),b=Object(r["N"])("el-option"),p=Object(r["N"])("el-select"),m=Object(r["N"])("wangeditor"),f=Object(r["N"])("upload-img");return Object(r["E"])(),Object(r["j"])("div",u,["radio"==l.itemProps.type?(Object(r["E"])(),Object(r["j"])(c,{key:0,modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.value=e})},{default:Object(r["bb"])((function(){return[(Object(r["E"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(l.itemProps.dataArr,(function(e){return Object(r["E"])(),Object(r["j"])(a,Object(r["u"])(e,{label:e.lable,key:e,disabled:!!e.disabled&&e.disabled}),{default:Object(r["bb"])((function(){return[Object(r["m"])(Object(r["R"])(e.value),1)]})),_:2},1040,["label","disabled"])})),128))]})),_:1},8,["modelValue"])):Object(r["k"])("",!0),"input"==l.itemProps.type||"textarea"==l.itemProps.type?(Object(r["E"])(),Object(r["j"])(s,Object(r["u"])({key:1,size:"mini",modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.value=e})},l.itemProps,{onClear:o.blur,key:l.itemProps.type,style:l.itemProps.style?l.itemProps.style:"width:100%",placeholder:l.itemProps.placeholder?l.itemProps.placeholder:"请输入"}),null,16,["modelValue","onClear","style","placeholder"])):Object(r["k"])("",!0),"input-number"==l.itemProps.type?(Object(r["E"])(),Object(r["j"])(d,Object(r["u"])({key:2,size:"mini",modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.value=e})},l.itemProps,{style:l.itemProps.style?l.itemProps.style:"width:100%",placeholder:l.itemProps.placeholder?l.itemProps.placeholder:"请输入"}),null,16,["modelValue","style","placeholder"])):Object(r["k"])("",!0),"select"==l.itemProps.type?(Object(r["E"])(),Object(r["j"])(p,Object(r["u"])({key:3,modelValue:n.value,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.value=e}),size:"mini"},l.itemProps,{style:l.itemProps.style?l.itemProps.style:"width:100%",onClear:o.blur,placeholder:l.itemProps.placeholder?l.itemProps.placeholder:"请选择"}),{default:Object(r["bb"])((function(){return[(Object(r["E"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(l.itemProps.dataArr,(function(e){return Object(r["E"])(),Object(r["j"])(b,Object(r["u"])(e,{key:e.value}),null,16)})),128))]})),_:1},16,["modelValue","style","onClear","placeholder"])):Object(r["k"])("",!0),"editor"==l.itemProps.type?(Object(r["E"])(),Object(r["j"])(m,{key:4,modelValue:n.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.value=e})},null,8,["modelValue"])):Object(r["k"])("",!0),"multiple"==l.itemProps.type||"single"==l.itemProps.type||"file"==l.itemProps.type?(Object(r["E"])(),Object(r["j"])(f,Object(r["u"])({key:5,onUploadImgsUrl:o.getImgs},l.itemProps),null,16,["onUploadImgsUrl"])):Object(r["k"])("",!0)])}var s={class:"upload"},d={key:1,class:"el-icon-plus avatar-uploader-icon"},b={key:1},p=Object(r["n"])("i",{class:"el-icon-plus"},null,-1),m={key:2},f=Object(r["n"])("i",{class:"el-icon-upload"},null,-1),j=Object(r["n"])("div",{class:"el-upload__text"},[Object(r["m"])(" 将文件拖到此处，或"),Object(r["n"])("em",null,"点击上传")],-1);function O(e,t,l,i,n,o){var a=Object(r["N"])("el-upload"),u=Object(r["N"])("el-dialog");return Object(r["E"])(),Object(r["j"])("div",s,["single"==l.type?(Object(r["E"])(),Object(r["j"])(a,{key:0,class:"avatar-uploader",action:n.upUrl,"show-file-list":!1,"on-success":o.handleSuccess,"before-upload":o.beforeUpload},{default:Object(r["bb"])((function(){return[n.imageUrl?(Object(r["E"])(),Object(r["j"])("img",{key:0,src:n.imageUrl,class:"avatar"},null,8,["src"])):(Object(r["E"])(),Object(r["j"])("i",d))]})),_:1},8,["action","on-success","before-upload"])):Object(r["k"])("",!0),"multiple"==l.type?(Object(r["E"])(),Object(r["j"])("view",b,[Object(r["n"])(a,{action:n.upUrl,"list-type":"picture-card","on-preview":o.handlePictureCardPreview,"on-remove":o.handleRemove,"on-success":o.handleSuccess,"before-upload":o.beforeUpload,"file-list":n.fileList},{default:Object(r["bb"])((function(){return[p]})),_:1},8,["action","on-preview","on-remove","on-success","before-upload","file-list"]),Object(r["n"])(u,{modelValue:n.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.dialogVisible=e})},{default:Object(r["bb"])((function(){return[Object(r["n"])("img",{width:"100%",src:n.dialogImageUrl,alt:"img"},null,8,["src"])]})),_:1},8,["modelValue"])])):Object(r["k"])("",!0),"file"==l.type?(Object(r["E"])(),Object(r["j"])("view",m,[Object(r["n"])(a,{class:"upload-demo",drag:"",action:n.upUrl,multiple:"","on-remove":o.handleRemove,"on-success":o.handleSuccess},{default:Object(r["bb"])((function(){return[f,j]})),_:1},8,["action","on-remove","on-success"])])):Object(r["k"])("",!0)])}l("c975"),l("a434");var h=l("ef4b"),g={props:{defaultValue:{type:String||Array,default:null},type:{type:String,default:"single",validator:function(e){return-1!==["single","multiple"].indexOf(e)}}},data:function(){return{upUrl:h["a"].uploadUrl,imageUrl:null,dialogImageUrl:"",dialogVisible:!1,fileList:[]}},mounted:function(){"string"==typeof this.defaultValue?this.imageUrl=this.defaultValue:Array.isArray(this.defaultValue)&&this.init()},methods:{init:function(){for(var e in this.imageUrl)this.fileList.push({name:e,url:this.imageUrl[e]})},handleRemove:function(e){var t=this;console.log(e),this.imageUrl.forEach((function(l,r){l==e.response.data&&t.imageUrl.splice(r,1)})),this.$emit("uploaddefaultValueUrl",this.imageUrl)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0,this.imageUrl.push(this.dialogImageUrl)},handleSuccess:function(e){console.log(e),"single"==this.type?this.imageUrl=e.data:this.imageUrl.push(e.data),this.$emit("uploaddefaultValueUrl",this.imageUrl)},beforeUpload:function(e){var t=e.size/1024/1024<5;return t||this.$message.error("上传图片大小不能超过 5MB!"),t}}};l("a5ac");g.render=O;var y=g,v={components:{UploadImg:y},props:{itemProps:{type:Object,default:function(){}},rest:{type:Boolean,default:function(){return!1}}},data:function(){return{value:null}},mounted:function(){this.value=this.itemProps.defaultValue},watch:{rest:function(e){e&&(this.value=this.itemProps.defaultValue)},value:function(e){console.log("val",e),this.$emit("handleChange",{key:this.itemProps.bindKey,value:e})}},methods:{getImgs:function(e){this.value=e},blur:function(){console.log("==",this.value),this.$emit("handleChange",{key:this.itemProps.bindKey,value:this.value})}}};v.render=c;var w=v,P={number:[{required:!0,message:"请输入",trigger:"blur"}],type:[{required:!0,validator:function(e,t,l){t?l():l(new Error("不能为空"))},trigger:"change"}],title:[{required:!0,validator:function(e,t,l){t?l():l(new Error("不能为空"))},trigger:"blur"}],select:[{required:!0,validator:function(e,t,l){console.log("validator-select",t),0==t.length?l(new Error("不能为空")):l()},trigger:"change"}],pwd:[{required:!0,validator:function(e,t,l){t?l():l(new Error("不能为空"))},trigger:"blur"}]},U=P,V=l("2ef0"),k=l.n(V),E={title:"123",number:null,type:null,select:null,pwd:null},F=k.a.cloneDeep(E),C=[{label:"单选",prop:"type",rules:U.type,view:{bindKey:"type",defaultValue:E.type,dataArr:[{lable:1,value:"是"},{lable:2,value:"否"},{lable:3,value:"好"}],type:"radio"}},{label:"密码",prop:"pwd",rules:U.pwd,view:{bindKey:"pwd",defaultValue:E.pwd,placeholder:"秘密密码",showPassword:!0,clearable:!0,type:"input"}},{label:"标题",prop:"title",rules:U.title,view:{bindKey:"title",defaultValue:E.title,placeholder:"秘密密码",clearable:!0,type:"textarea"}},{label:"数字input",prop:"number",rules:U.number,view:{bindKey:"number",defaultValue:E.number,min:0,step:1,precision:2,type:"input-number",controlsPosition:"right",style:"width:50%"}},{label:"下拉单选",prop:"select",rules:U.select,view:{bindKey:"select",defaultValue:E.select,dataArr:[{lable:1,value:"是"}],type:"select",clearable:!0}},{label:"上传",prop:"uploadImg",rules:U.uploadImg,view:{bindKey:"uploadImg",defaultValue:[],type:"file"}},{label:"富文本",prop:"editor",view:{bindKey:"editor",defaultValue:E.editor,type:"editor"}}],I=l("c1fb"),x={components:{MForm:w},data:function(){return{ruleForm:E,formInit:C,restFlag:!1,rules:void 0}},created:function(){this.$store.commit("save",{loading:!1}),this.setSelectData()},methods:{handleChange:function(e){console.log("form",e),this.ruleForm[e.key]=e.value,console.log("ruleForm",this.ruleForm)},setSelectData:function(){var e=this;Object(I["a"])("GET",h["a"].select).then((function(t){console.log(t),e.formInit.forEach((function(e){"select"==e.view.bindKey&&(e.view.dataArr=t)}))}))},getImgs:function(e){console.log(e)},submitForm:function(e){this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},resetForm:function(){this.ruleForm=F,console.log(F,this.formInit),this.restFlag=!0}}};l("9a8d");x.render=a;t["default"]=x},a434:function(e,t,l){"use strict";var r=l("23e7"),i=l("23cb"),n=l("a691"),o=l("50c4"),a=l("7b0b"),u=l("65f0"),c=l("8418"),s=l("1dde"),d=l("ae40"),b=s("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,f=Math.min,j=9007199254740991,O="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!b||!p},{splice:function(e,t){var l,r,s,d,b,p,h=a(this),g=o(h.length),y=i(e,g),v=arguments.length;if(0===v?l=r=0:1===v?(l=0,r=g-y):(l=v-2,r=f(m(n(t),0),g-y)),g+l-r>j)throw TypeError(O);for(s=u(h,r),d=0;d<r;d++)b=y+d,b in h&&c(s,d,h[b]);if(s.length=r,l<r){for(d=y;d<g-r;d++)b=d+r,p=d+l,b in h?h[p]=h[b]:delete h[p];for(d=g;d>g-r+l;d--)delete h[d-1]}else if(l>r)for(d=g-r;d>y;d--)b=d+r-1,p=d+l-1,b in h?h[p]=h[b]:delete h[p];for(d=0;d<l;d++)h[d+y]=arguments[d+2];return h.length=g-r+l,s}})},a5ac:function(e,t,l){"use strict";l("cc29")},c975:function(e,t,l){"use strict";var r=l("23e7"),i=l("4d64").indexOf,n=l("a640"),o=l("ae40"),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,c=n("indexOf"),s=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!s},{indexOf:function(e){return u?a.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},cc29:function(e,t,l){}}]);
//# sourceMappingURL=chunk-3a0f4d1e.316f6ec2.js.map